<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace = "customplan">
	<resultMap type="customDto" id="customMap">
		<result property="plan_num" column="PLAN_NUM"/>
		<result property="plan_title" column="PLAN_TITLE"/>
		<result property="plan_content" column="PLAN_CONTENT"/>
		<result property="plan_writer" column="PLAN_WRITER"/>
		<result property="plan_regdate" column="PLAN_REGDATE"/>
		<result property="plan_nail" column="PLAN_NAIL"/>
		<result property="plan_tendency" column="PLAN_TENDENCY"/>
		<result property="plan_addr" column="PLAN_ADDR"/>
		<result property="plan_term" column="PLAN_TERM"/>
		<result property="plan_views" column="PLAN_VIEWS"/>
		<result property="plan_push" column="PLAN_PUSH"/>
		<result property="plan_hide" column="PLAN_HIDE"/>
	</resultMap>
	
	<!-- 마이페이지 내가 작성한 게시글 조회  페이징 -->
  	<select id="mywritelist" parameterType="Map" resultMap="customMap">
		SELECT * 
		FROM (
            SELECT ROW_NUMBER() OVER(ORDER BY PLAN_NUM) NUM,
            OLLE_PLAN.*
            FROM OLLE_PLAN OLLE_PLAN
            WHERE PLAN_WRITER=#{plan_writer}
            ORDER BY PLAN_NUM
            )
		WHERE NUM BETWEEN #{rowStart} AND #{rowEnd}
  	</select>
  	
  	<!-- 내가 작성한 게시글 총 갯수 페이징 -->
  	<select id="listCount" resultType="int">
		SELECT COUNT(PLAN_NUM)
		FROM OLLE_PLAN
		WHERE PLAN_NUM > 0	
	</select>
  	
	<select id="selectList" resultMap="customMap">

	</select>
	
	<select id="selectOne" resultType="customDto">

	</select>
	
	<select id="maxNum" resultType="int">
		SELECT MAX(PLAN_NUM)
		FROM OLLE_PLAN
	</select>
	
	<insert id="insert" parameterType="customDto">
		INSERT INTO OLLE_PLAN
		VALUES()
	</insert>
	
	<update id="update" parameterType="customDto">
		UPDATE OLLE_PLAN
		SET 
	</update>
	
	<delete id="delete" parameterType="int">
		DELETE FROM OLLE_PLAN
		WHERE PLAN_NUM = #{plan_num}
	</delete>
</mapper>